{% block ux_media_widget %}
    {% embed '@ArkounayUxMedia/_ux_media_widget.html.twig' %}{% endembed %}
{% endblock %}

{% block ux_media_collection_row %}
    {{ block('form_row') }}
{% endblock %}

{% block ux_media_collection_widget %}
    {% set attr = attr|merge({class: (attr.class|default('') ~ ' ux-media-collection')|trim}) %}
    {{ block('ux_collection_widget') }}
{% endblock %}

{% block ux_media_row %}
    {{ form_label(form) }}
    {% if 'ux_media_collection_entry' in block_prefixes %}
        {% set attr = attr|merge({'data-arkounay--ux-collection--collection-target': 'collectionElement'}) %}
    {% endif %}
    <div {% for k, v in attr|default %}{{ k }}="{{ v }}"{% endfor %}>
        {{ form_widget(form) }}
        {{ form_errors(form) }}
        {{ form_rest(form) }}
    </div>
{% endblock %}